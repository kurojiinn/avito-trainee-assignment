# Результаты нагрузочного тестирования

## Методология

Нагрузочное тестирование проводилось с использованием Apache Bench (ab) и wrk для оценки производительности API при различных нагрузках.

## Тестовое окружение

- **Сервис**: API на порту 8080
- **База данных**: PostgreSQL 15
- **Конфигурация**: Стандартная конфигурация docker-compose

## Сценарии тестирования

### 1. Health Check Endpoint

**Параметры:**
- Concurrent users: 5
- Total requests: 100

**Ожидаемый результат:**
- Время ответа < 10 мс
- Успешность: 100%

### 2. Statistics Endpoint

**Параметры:**
- Concurrent users: 5
- Total requests: 100

**Ожидаемый результат:**
- Время ответа < 300 мс (SLI)
- Успешность: 99.9%

### 3. Create PR Endpoint

**Параметры:**
- Concurrent users: 5
- Total requests: 100

**Ожидаемый результат:**
- Время ответа < 300 мс (SLI)
- Успешность: 99.9%

## Запуск нагрузочного тестирования

```bash
# Использование скрипта
./load_test.sh

# Или вручную с Apache Bench
ab -n 100 -c 5 http://localhost:8080/health
ab -n 100 -c 5 http://localhost:8080/api/v1/statistics

# Или с wrk
wrk -t5 -c5 -d10s http://localhost:8080/health
wrk -t5 -c5 -d10s http://localhost:8080/api/v1/statistics
```

## Оптимизации для достижения SLI

Для обеспечения времени ответа < 300 мс и успешности 99.9% были применены следующие оптимизации:

1. **Индексы базы данных** - созданы индексы на часто используемых полях
2. **Оптимизация запросов** - использование JOIN вместо множественных запросов
3. **Транзакции** - минимизация количества транзакций
4. **Кэширование** - для статистики можно добавить кэширование (не реализовано в текущей версии)

## Примечания

- При объеме данных до 20 команд и 200 пользователей система должна справляться с RPS = 5
- Для больших объемов данных рекомендуется добавить кэширование и connection pooling

